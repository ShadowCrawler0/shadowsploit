from pysmb import smb

def enum_shares(server):
    conn = smb.SMBConnection(server, server)
    conn.connect()

    shares = conn.listShares()

    print("Enumerating shares on:")
    print(f"Server: {server}")
    for share in shares:
        print(f"Name: {share['shi1_netname']}")
        print(f"Type: {share['shi1_type']}")
        print(f"Comment: {share['shi1_remark']}")
        print()

    conn.close()

if __name__ == '__main__':
    server = input("Enter the server IP address: ")

    enum_shares(server)
